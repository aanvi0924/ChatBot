[
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 0
    },
    "page_content": "DSP Installation Guide, Version 3.2.0",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 1
    },
    "page_content": "Contents\nChapter 1. Introduction.......................................................................................................................... 4\nChapter 2. Software, Hardware, and System Prerequisites.....................................................................6\nChapter 3. Environment Setup................................................................................................................8\nChapter 4. Software Installation.............................................................................................................9\nInstalling DSP Orchestration Software........................................................................................................9\nInstalling and Configuring DSP Orchestration.................................................................................... 9\nConfiguring DSP Physical Network................................................................................................... 11\nCompleting Post-installation Configurations.................................................................................... 13\nCommissioning, Configuring, and Deploying the Servers................................................................15\nRegistering Machines as KVM Hosts............................................................................................... 16\nConfiguring the DSP Orchestration Cloud................................................................................................ 16\nSetting-up the Monitoring and Logging Services.....................................................................................17\nEnabling Monitoring Services for DSP Orchestration..............................................................................19\nInstalling Drut Containers.......................................................................................................................... 21\nConfiguring Drut Containers...............................................................................................................21\nInstalling Drut Containers Clusters....................................................................................................23\nInstalling DFM on Drut Containers Clusters..................................................................................... 24\nAdding New Worker Nodes to a Drut Containers Cluster................................................................26\nInstalling DX-VRM.......................................................................................................................................26\nIntroduction..........................................................................................................................................26\nInstalling DX-VRM Service..................................................................................................................27\nSetting-up DX-VRM Machines............................................................................................................29\nInstalling Drut Workbench..........................................................................................................................31\nConfiguring the VPods for Drut Workbench.............................................................................................32\nInstalling Drut Storage............................................................................................................................... 33\nInstalling Drut Storage Using Scripts................................................................................................ 33\nInstalling Drut Storage Manually as an Administrator..................................................................... 35",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 2
    },
    "page_content": "Contents  | iii\nBootstrapping an Admin Node.......................................................................................................... 35\nInstalling Required Packages on Other Machines........................................................................... 36\nAdding Nodes to the Cluster............................................................................................................. 37\nInstalling Drut Compute Using Kolla Ansible........................................................................................... 38\nChapter 5. Troubleshooting and Maintenance...................................................................................... 41\nRemoving Packages, Services, and Databases When Installation Errors are Encountered.................. 41\nBacking-up DSP Orchestration and DFM Databases...............................................................................41\nCreating Drut Storage Users and Pools for Drut Compute..................................................................... 42\nCleaning-up the DFM..................................................................................................................................42\nRemoving Drut Storage Host from the Cluster........................................................................................ 43\nRemoving an Existing Drut Compute Node or Host................................................................................ 43\nCreating an External Flat Network on Drut Compute.............................................................................. 45\nInstalling and Managing DFM Manually...................................................................................................47",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 3
    },
    "page_content": "Chapter 1. Introduction\nThe Drut Software Platform (DSP) is a full stack on-prem private cloud infrastructure and platform-as-\na-service software solution that allows you to offer cloud-like services and automation to end-users. It \nis a multi-layered solution anchored by the DSP, which consists of a collection of open-source software \nservices that are used to curate a standards-based environment for next-generation cloud services.\n*Hover over each icon/block and click to view the related documentation.\nOptional Tools\nDrut Software Platform (DSP) Solution\nDSP Orchestration (Bare Metal)\nDrut Fabric \nManager (DFM)            \nMonitoring and Logging \nStatistics\nTroubleshooting & \nMaintenance\nDrut Software Platform\nDrut Hardware\nFabric Interface Card \n(iFIC | tFIC 2500)\nPhotonic Resource Unit \n(PRU 2500)\nPhotonic Fabric\n(PXC)\nDrut \nStorage\nDrut\nContainers\nDrut\nCompute\nDrut \nWorkbench\nVPods\nV-Compositions\nComposed Nodes\n1. Installing Drut Orchestration  (on page 9)\n2. Installing Drut Fabric Manager  (on page 24)\n3. Installing Drut Storage  (on page 33)\n4. Installing Drut Containers  (on page 21)\n5. Installing Drut Compute  (on page 38)\n6. Setting and Enabling the Drut Monitoring and Logging Services  (on page 17)\n7. View Troubleshooting and Maintenance Procedures  (on page 41)\n8. Installing Drut Workbench  (on page 31)\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 4",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 4
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nDrut sells and supports this software stack as three independent software bundles as part of a managed \nservice offering, which are built for you to own, and we assembled the DSP in a way to avoid vendor and \nmanaged service lock-in. The flexibility provided by these solution bundles allow you build your own \nprivate cloud infrastructure tailored to your applications and allows you to maintain control at the level \nthat you are comfortable with increasing control as you train your staff.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 5",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 5
    },
    "page_content": "Chapter 2. Software, Hardware, and System \nPrerequisites\nTo get started, we will need a bare metal server to deploy the DSP Orchestration software. You are \nrequired to install Ubuntu 20.04 operating system on the bare metal, because the Drut packages are \ndesigned to work seamlessly with it.\nTo begin the installation, first download the dsp_ansible package from Drut Support (support@drut.io) \nand upload it to your Ubuntu 20.04 machine. After completing the installation, you should be able to log in \nto the DSP graphical user interface (GUI).\nTip:  To allow sudo commands without requiring a password, insert the following line into /etc/\nsudoers:\n<$USER_NAME> ALL=(ALL) NOPASSWD: ALL\nImportant:  We recommend setting up a fresh installation for this version of the platform.\nRecommended Hardware Specifications for Single Server DSP Orchestration\nThe system should be equipped with the following hardware specifications to support DSP orchestration, \nassuming DSP orchestration, DFM, Prometheus, Postgres, and Grafana are all running on the same \nmachine.\n\u2022 CPU:  40 cores\n\u2022 Memory: 120 GB\n\u2022 Storage:  500 GB (single disk)\nThis ensures optimal performance across all integrated components.\nNotice:  For the specifications for a multi-server deployment, contact Drut Technical Support.\nThird-party Hardware\nThe following is the list of third-party hardware (2, 4, or 8 base metal servers) applicable only for an entry-\nlevel installation:\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 6",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 6
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n\u2022 2, 4 or 8 bare metal servers:\n\u25e6Full length, full height PCIe slot, out of band BMC management port, PXE boot port.\n\u25e6Please check with Drut for vendor compatibility.\n\u2022 Appropriate set of PCIe Resource devices:\n\u25e6GPU, DPU, APU, NVMe, and so on.\n\u25e6Please check with Drut for vendor compatibility.\n\u2022 Out of band management network.\n\u2022 In band data network, as per your application needs.\nDrut Hardware\nThe following hardware is required only for a complete Drut Type 1 installation and is dependent on the \nspecific installation type:\n\u2022 Drut iFIC 2500 (Initiator Fabric Interface Card) per Bare metal system.\n\u2022 Drut PRU 2500 (Photonic Resource Unit chassis (1,2 or 4)).\n\u2022 Drut tFIC 2500 (target Fabric Interface Card) per Resource Unit chassis.\n\u2022 Drut Photonic Fabric (PXC, plus cabling).\nDrut Software\nThe following Drut software is necessary:\n\u2022 Drut Software Platform (DSP), version 3.2.0.\n\u2022 DFM, version 1.3.x.\nHardware Setup\nEnsure the following hardware is setup before proceeding with installing the Drut software:\n\u2022 Connect your servers, control devices, and other networked hardware to switches or routers. \nEnsure correct ports are used based on your network design.\n\u2022 Verify that your power supply can handle the total load of all devices in your datacenter \nenvironment. Ensure that devices are powered.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 7",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 7
    },
    "page_content": "Chapter 3. Environment Setup\nFollow these steps to set up the environment:\n1. Install virtual environment dependencies. Although Ubuntu 20.04 comes with Python 3 pre-\ninstalled, you need to run the following command on the host machine\u2019s command line to install \nPython 3 in venv:\nsudo apt install python3 python3.8-venv python3-pip\n2. Download the dsp_ansible package from https://<software_download_path>  to the Ubuntu \nmachine and execute the following command to unpack the source file:\ntar -xvf <source_file>.tar.gz\n3. Change the directory to dsp/  by executing the following command:\ncd dsp/\n4. To install various components of DSP, you need to modify the installation YAML files. By default, \nafter unpacking DSP, only example YAML files (*.yaml.example) are provided. These must be \ncopied and renamed to the actual configuration files before proceeding with the installation..\nAll the example .yaml  files are available under the dsp/vars  folder. Execute the following command \nin your terminal to rename and copy each .example  file in the same directory, removing the .example \nextension.\nfind ./vars -type f -name \"*.example\"  -exec  bash -c 'dest=\"./vars/$(basename \n \"$0\" .example)\"; [ ! -e \"$dest\" ] && cp \"$0\" \"$dest\"' {} \\;\n5. To create the dsp_env  environment and install the necessary required packages, execute the \nfollowing script:\nbash ./create_env.sh\n6. Activate the dsp_env  environment by running the following command:\nsource ~/dsp_env/bin/activate\nImportant:  You must activate the dsp_env  environment each time you start a new shell. To \nexit the dsp_env  environment, execute the following command:\ndeactivate\nPerform the Installing and Configuring DSP Orchestration  (on page 9)  procedure.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 8",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 8
    },
    "page_content": "Chapter 4. Software Installation\nInstalling DSP Orchestration Software\nInstalling and Configuring DSP Orchestration\nEnsure that you have required environment as described in the Environment Setup  (on page 8)  procedure \nand make sure that you are in the dsp/  folder.\nPerform the following steps to install and configure the DSP Orchestration software:\n1. Update the hosts  file to include the IP address of the Ubuntu machine under the [all_in_one] \nsection as per the following scenarios:\n\u25e6If you are configuring the DSP Orchestration software in the same machine, update the \nhosts  file as shown below:\n# Define hosts for DSP Orchestration here\n[all_in_one]\nlocalhost ansible_user=<username>  ansible_connection=local\n \n[postgres:children]\nall_in_one\n \n[maas_region_controller:children]\nall_in_one\n \n[redis:children]\nall_in_one\n \n[rabbitmq:children]\nall_in_one\n \n[nfs:children]\nall_in_one\n\u25e6If you are configuring the DSP Orchestration software on a different machine, update the \nhosts  file as shown below:\n# Define hosts for MAAS here\n[all_in_one]\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 9",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 9
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n<other_host_ip_address>  ansible_user=<username>\n \n[postgres:children]\nall_in_one\n \n[maas_region_controller:children]\nall_in_one\n \n[redis:children]\nall_in_one\n \n[rabbitmq:children]\nall_in_one\n \n[nfs:children]\nall_in_one\nNote:  Ensure that the host machine has access to the SSH keys.\n2. Update the variable values in the vars/dsp-orc.yaml  configuration file as per the following table:\n---\n#DSP\ndsp_orc_snap_path: \"<DRUT_MAAS_SNAP_HTTP_URL_OR_LOCAL_PATH>\"\ndsp_username: drut\ndsp_password: drut\nVariable \nDeclaration\nDescription\ndsp_orc_s-\nnap_path\nProvide the absolute path to the DSP Orchestration snapshot.\ndsp_user-\nname\nBy default, the administrator username is set to drut. However, you can modify it to \nany preferred value based on your requirements.\ndsp_pass-\nword\nBy default, the administrator password is set to drut. However, you can modify it to \nany preferred value based on your requirements.\n3. To install DSP Orchestration and other necessary packages, run the following command:\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 10",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 10
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nansible-playbook -i hosts playbooks/setup_all.yaml -e @./vars/dsp-orc.yaml\nThis command installs the following software packages along with the login credentials and is \ndisplayed on the screen.\n\u25e6MaaS\n\u25e6PostgreSQL\n\u25aaMaaS Database\n\u25aaDFM Database\n\u25aaAI Workbench Database\n\u25e6Redis\n\u25e6Rabbitmq\n\u25aaRabbitmq - DFM user\n\u25aaRabbitmq - Drut Workbench user\n\u25e6NFS\n4. After the installation is complete, update the DSP Orchestration SSH key with the SSH key of the \nansible host that is running.\nYou can access the DSP GUI at https://<x.x.x.x>:5443/DRUT/r. where <x.x.x.x>  represents the IP address \nof the host where the DSP Orchestration software is installed.\nImportant:  The default DSP orchestration widget is configured and populated in the DSP \nOrchestration >  Application  tab. The Prometheus, Grafana, and Loki applications are not \nconfigured for local DSP orchestration at this point in time.\nPerform the Configuring DSP Orchestration and Network  (on page 11)  procedure.\nConfiguring DSP Physical Network\nConfiguring DSP Orchestration and Network\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nThe following installation instructions are based on the assumption that you are using a rack with one \nswitch and ten servers.\nNote:  You can extend this configuration to a variety of network configurations based on your \nrequirements.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 11",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 11
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nYou must configure the required networks to complete the configuration. The following table illustrates an \nexample of a network configuration:\nTable 1. Example: Sample Network Configuration\nNetwork Name\nVLAN ID\nSubnet\nPXE\nDefault (0)\n192.168.0.0/24\nAdmin (ADMIN)\n10\n192.168.10.0/24\nPublic (PUB)\n20\n192.168.20.0/24\nInternal (INT)\n30\n192.168.30.0/24\nOut of Band (OOB)\n40\n192.168.40.0/24\nStorage Data (SData)\n50\n192.168.50.0/24\nStorage Cluster \n(SClust)\n60\n192.168.60.0/24\nCompute (COM)\n70\n192.168.70.0/24\nNote:  You can choose to specify the network subnets even before deployment.\nA network with the specified minimum required configurations is set up.\nPerform the Notes on Configuring your External Top-of-Rack (TOR) Switch  (on page 12)  procedure.\nNotes on Configuring your External Top-of-Rack (TOR) Switch\nPerform the following steps to configure your external TOR switch in DSP Orchestration:\n1. Create a VLAN interface for each network with a static IP, using .1  addressing for each VLAN. For \nexample, you can specify the subnet for ADMIN network as 192.168.10.1.\nTip:  This IP address can route the traffic to the uplink (corporate) or between the VLANs.\n2. Configure the VLAN tags for the ports where the cables are connected.\n3. Ensure that all the networks have proper routing to reach the internet and the corporate network.\n4. Update the firewall rule to reach the public/admin network in this switch:\na. Log in to the corporate network firewall.\nb. Locate the existing firewall rule for accessing the public/admin network.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 12",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 12
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nc. Edit the firewall rule to allow access to the public/admin network in this switch.\nd. Save the changes to the firewall rule.\ne. Test the updated firewall rule to ensure connectivity to the public/admin network in this \nswitch.\n5. Assuming DSP Orchestration manages all the interfaces except OOB, make sure you enable DHCP \nfor OOB.\n6. If the switch does not handle DHCP, you will have to manually assign a static IP address for each \nVLAN in DSP Orchestration, using .2  addressing for each VLAN. For example, you can specify the \nIP address as 192.168.10.2.\nEstablishes VLAN interfaces with the specified static IPs to ensure proper VLAN tagging on switch ports, \nconfigure routing for network access, update firewall rules for connectivity, manage interfaces with MAAS, \nand enable DHCP for the OOB network. This setup should effectively route traffic between VLANs and \nprovide necessary connectivity to the corporate network and internet.\nPerform the Completing Post-installation Configurations  (on page 13)  procedure.\nCompleting Post-installation Configurations\nPerform the following steps to configure DSP Orchestration:\n1. Access the DSP GUI at https://<x.x.x.x>:5443/DRUT/r  where <x.x.x.x>  represents the host \nwhere the DSP Orchestration software is installed. You will be prompted to enter a username and \npassword.\n2. Enter the username and password that you specified during the Installing and Configuring DSP \nOrchestration  (on page 9)  process. Upon successful login, the Welcome to Drut Software \nPlatform (DSP)  page is displayed.\nImportant:  If you choose to proceed with the setup, follow the steps below. Alternatively, if \nyou prefer to complete the setup later, click Skip Setup  at the bottom of the page.\n3. By default the Region name  group is built based on the name of the host server on which DSP \nOrchestration is running. You can choose to change it to different name or leave it as is.\n4. In the Connectivity  group, set the DNS forwarder  value to 8.8.8.8  to enable the resolution of \ndomains not managed by the DSP Orchestration software and click Save and continue.\nNotice:  If the switch does not handle DHCP, you will have to manually assign a static IP \naddress for each VLAN in DSP Orchestration, using .2  addressing for each VLAN.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 13",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 13
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nFor example, you can specify the IP address as 192.168.10.2.\n5. On the following screen, choose the necessary Ubuntu images or CentOS images as required and \nclick Continue.\nNote:  For uploading custom images, contact Drut Technical Support.\n6. On the next page click Finish setup. The SSH Keys for <USER>  page appears.\n7. Open a terminal window and execute the following command to generate an ssh key:\nssh-keygen\nHit the Enter key twice. The ssh keys are created. Execute the following command to copy the ssh \nkey:\ncat ~/.ssh/id_rsa.pub\n8. In the DSP Orchestration portal, click Upload  and paste the generated ssh key.\n9. In DSP Orchestration, a \"Space\" is a logical grouping of subnets that helps control network \naccess and communication between machines. To create a space for each network and assign it \naccordingly, perform the following steps:\na. Select Manage > Subnets  from the menu in the DSP Orchestration Portal. The Subnets  page \nappears.\nb. In the Subnets  page, click Add, and then select Space. The Add Space  page appears.\nc. Enter an appropriate name for the space in the Name  box and click Add Space. The space \nwith the specified name is added to the list of spaces.\nThe following table illustrates an example of the space name associated with each network:\nNetwork Name\nVLAN ID\nSubnet\nDSP Orchestration Space \nName\nPXE\nDefault (0)\n192.168.0.0/24\npxe-space\nAdmin (ADMIN)\n10\n192.168.10.0/24\nadmin-space\nPublic (PUB)\n20\n192.168.20.0/24\npublic-space\nInternal (INT)\n30\n192.168.30.0/24\ninternal-space\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 14",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 14
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nNetwork Name\nVLAN ID\nSubnet\nDSP Orchestration Space \nName\nOut of Band (OOB)\n40\n192.168.40.0/24\noob-space\nStorage Data (SData)\n50\n192.168.50.0/24\nsdata-space\nStorage Cluster \n(SClust)\n60\n192.168.60.0/24\nscluster-space\nCompute (COM)\n70\n192.168.70.0/24\ncompute-space\n10. Choose the necessary VLAN and assign the newly created space as required.\n11. Enable DHCP for the required networks.\n12. Create PXE subnets and enable DHCP.\n13. Setup the required configurations for the server such as:\na. Ensure that you properly connect the network cables and enable the PXE boot sequence by \ndefault.\nb. Ensure efficient use of BMC manager in DFM by providing common user names and \npasswords for all BMCs.\nc. Power up all the servers.\nCommissioning, Configuring, and Deploying the Servers\nAfter some time, you will be able to view all the servers on the Hardware  > Machines  page in the DSP \nOrchestration portal.\nThe DSP Orchestration portal generates and displays random host names by default. However, you have \nthe option to provide a more meaningful and useful host name if needed.\nPerform the following steps to complete the configuration tasks:\n1. Start commissioning each server.\n2. Configure the network as required by following these steps:\na. Add any additional VLANs that the server requires.\nb. Select the appropriate network and choose Auto assign.\n3. Configure the storage as needed. If necessary, configure LVM storage.\n4. Pool and tag the server to assign appropriate needs.\n5. After commissioning and configuring the servers, you have the option to deploy any OS on the \nserver or keep the server in a ready state to receive requests.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 15",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 15
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nRegistering Machines as KVM Hosts\nWhen the server is in ready-state, execute the following steps:\n1. Deploy OS by registering the machines as KVM hosts.\n2. From the DSP Orchestration software, click Hardware  and select KVM. All available KVM hosts are \ndisplayed on the KVM page under the LXD  and Virsh  tabs.\n3. Select the required VM from the list of KVM hosts. The selected VM details are displayed on the \nscreen.\n4. Select the Settings / KVM Host Settings  tab, apply the relevant tag to the host, and click Save \nchanges  in the DSP Orchestration portal.\nConfiguring the DSP Orchestration Cloud\nEnsure that you have required environment as described in the Environment Setup  (on page 8)  procedure \nand make sure that you are in the dsp/  folder.\nUpdate the dsp_config.yaml  configuration file to provide the generic credentials for creating Virtual \nMachines (VMs).\nUpdate the vars/dsp_config.yaml  configuration file to include the following DSP Orchestration cloud \nparameters:\n---\n# DSP config\ndsp_url: \"https://<ip_address>:<port_no>\"\ndsp_username: drut\ndsp_password: drut\ndsp_primary_network_space: public-api\nskip_allocation: true\nVariable \nDeclaration\nDescription\ndsp_url\nProvide the IP address https://<x.x.x.x>:<port>where the DSP Orchestration software is \ninstalled.\ndsp_user-\nname\nProvide the username to log into the dsp_url  portal.\ndsp_pass-\nword\nProvide the password to log into the dsp_url  portal.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 16",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 16
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nVariable \nDeclaration\nDescription\ndsp_pri-\nmary_net-\nwork_space\nProvide a space name that has a logical grouping of subnets that helps control network \naccess and communication between machines.\nskip_allo-\ncation\nTo use a machine that already exists in the DSP Orchestration cloud, make sure that the \nmachine is in ready state with the provided host name, and set the skip_allocation  para\u00ad\nmeter to true.\nIf you intend to create new VMs from dsp_config.yaml  (on page 16), set the skip_allo-\ncation  parameter to false.\nTo create Virtual Machines (VMs) on the go, you need to deploy the Operating System \n(OS) on a Bare Metal machine and register it as a Kernel Virtual Machine (KVM) host with \nspecific tags.\nThe vars/dsp_config.yaml  configuration file is updated with the specified credentials for creating Virtual \nMachines (VMs).\nPerform the Setting-up the Monitoring and Logging Services  (on page 17)  procedure.\nSetting-up the Monitoring and Logging Services\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to install Drut's monitoring and logging functions:\n1. Update the vars/dsp_config.yaml  (on page 16)  and vars/monitor_services.yaml  configuration file \nparameters as follows:\n---\n# MONITOR SERVICE\nmonitor_default_machines_config:\n  cpu_count: 4\n  tags: \"<TAG_NAME>\" # SET KVM HOST TAG\n  memory: 10240\n  storage: sba:100\n  interfaces: eth0:space=public-space\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 17",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 17
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n  pool: \"DSP-Monitor\"   # The pool will be created if it does not exist, or you can add a \n custom pool name.\n# By default, the following in-built names are used. If you want to specify the \n Prometheus, Grafana, \n# and Loki hostnames names according to your requirements, uncomment the relevant section \n and provide\n# the necessary details.\n# To Prometheus\n# prometheus_machine:\n#   - hostname: \"DSP-prometheus\"\n#     ansible_group: prometheus\n \n# To Grafana\n# grafana_machine:\n#   - hostname: \"DSP-grafana\"\n#     ansible_group: grafana\n \n# admin_user: \"drut\"\n# admin_password: \"drut\"\n \n# To Loki\n# loki_machine:\n#   - hostname: \"DSP-loki\"\n#     ansible_group: loki\n2. To install the monitoring and logging services, execute the following command:\nansible-playbook playbooks/setup_monitor_services.yaml -e @./vars/dsp_config.yaml -e \n @./vars/monitor_services.yaml\nTip:  If you wish to install a specific server of interest, use the -t <server_name>  option. For \nexample:\nansible-playbook playbooks/setup_monitor_services.yaml -e @./vars/dsp_config.yaml \n -e @./vars/monitor_services.yaml -t prometheus,grafana,loki\nThe Prometheus, Grafana, and Loki applications are configured and the corresponding widgets \nare registered and populated in the DSP Orchestration  > Application  tab and a summary with login \ncredentials are displayed on the screen.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 18",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 18
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nPerform the Enabling Monitoring Services for DSP Orchestration  (on page 19)  procedure.\nEnabling Monitoring Services for DSP Orchestration\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to enable monitoring services in DSP Orchestration portal:\n1. If you want to configure monitoring services on the same machine, update the hosts  file as shown \nbelow:\n# Define hosts for DSP Orchestration here\n[all_in_one]\nlocalhost ansible_connection=local  # <Other machine IP> or localhost \n ansible_connection=local\n \n[postgres:children]\nall_in_one\n \n[maas_region_controller:children]\nall_in_one\n \n[redis:children]\nall_in_one\n \n[rabbitmq:children]\nall_in_one\n \n[nfs:children]\nall_in_one\nIf you want to configure the monitoring services on a different machine, update the hosts  file as \nshown below:\n# Define hosts for DSP Orchestration here\n[all_in_one]\n<other_host_ip_address>  ansible_user=<username>\n \n[postgres:children]\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 19",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 19
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nall_in_one\n \n[maas_region_controller:children]\nall_in_one\n \n[redis:children]\nall_in_one\n \n[rabbitmq:children]\nall_in_one\n \n[nfs:children]\nall_in_one\nNote:  Ensure that the host machine has access to the SSH keys.\n2. Execute the following command if you want to enable monitoring services on a remote machine on \nwhich an instance of DSP Orchestration is running:\nansible-playbook -i hosts playbooks/enable_maas_monitoring.yaml -e \n @./vars/dsp_config.yaml\nImportant:  It is important that you update the  vars/dsp_config.yaml  (on page 16)  with \nthe DSP Orchestration server details.\nIf custom names are defined in the vars/monitor_services.yaml  file, execute the following \ncommand to apply the changes:\nansible-playbook -i hosts playbooks/enable_maas_monitoring.yaml -e \n @./vars/dsp_config.yaml -e @./vars/monitor_services.yaml\nThe Rabbitmq, Redis, and Postgresql services are configured and the corresponding widgets are updated \nwith the monitoring services and is populated in the DSP Orchestration  > Application  tab.\nPerform the Configuring Drut Containers  (on page 21)  procedure.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 20",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 20
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nEnabling Monitoring Services for DSP Orchestration Using Tags (Optional)\n1. To install only DSP Orchestration Software on either a local or a remote machine, execute the \nfollowing command:\nansible-playbook -i hosts playbooks/enable_maas_monitoring.yaml -e @./vars/dsp-orc.yaml \n -t maas_postgres\n2. To install only Drut Postgres and then install DFM database on either a local or a remote machine, \nexecute the following command:\nansible-playbook -i hosts playbooks/enable_maas_monitoring.yaml -t drut_postgres\n3. To install only Redis on either a local or a remote machine, execute the following command:\nansible-playbook -i hosts playbooks/enable_maas_monitoring.yaml -t redis\n4. To install only RabbitMQ on either a local or a remote machine, execute the following command:\nansible-playbook -i hosts playbooks/enable_maas_monitoring.yaml -t rabbitmq\n5. To install Drut Postgres with DFM database, RabbitMQ, and Redis together on either a local or a \nremote machine, execute the following command:\nansible-playbook -i hosts playbooks/enable_maas_monitoring.yaml -t \n rabbitmq,drut_postgres,redis\nInstalling Drut Containers\nConfiguring Drut Containers\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to configure the Drut Containers software.\nAfter setting up the parameters in the vars/dsp_config.yaml  (on page 16)  file, you need to update the \nvars/k8s.yaml  configuration file to include the following Drut Containers configuration parameters:\n---\n# K8s\n \n# This is used to create the load balancer and will use this IP to connect to the K8s master.\nvirtual_ip: <VIRTUAL_IP>\n \n# This is the network interface participating in the negotiation of the virtual IP, e.g., eth0.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 21",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 21
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nnetwork_interface: <NETWORK_INTERFACE>\nk8_ha_enabled: true\n \nk8s_default_machines_config:\n  cpu_count: 15\n  tags: \"<TAG_NAME>\" # SET KVM HOST TAG\n  memory: 32768\n  storage: sba:100\n  interfaces: eth0:space=public-api;eth1:space=admin-api\n  pool: \"DSP-K8\" # The pool will be created if it does not exist, or you can add a custom pool \n name.\n \n# If you want to specify the K8s machines host names, ansible group names, and CPU counts \n according to \n# your requirements, uncomment this section and provide the necessary details.\n \n# By default, the following in-built names are used. If you want to specify the \n DSP-kube-master1, DSP-kube-master2, \n# and DSP-kube-masterN; and so on hostnames names according to your requirements, uncomment the \n relevant section and provide\n# the necessary details.\n \n# k8s_machines:\n#   - hostname: \"DSP-kube-master1\"\n#     ansible_group: masters\n#     cpu_count: 4\n#   - hostname: \"DSP-kube-master2\"\n#     ansible_group: masters\n#     cpu_count: 4\n#   - hostname: \"DSP-kube-master3\"\n#     ansible_group: masters\n#     cpu_count: 4\n#   - hostname: \"DSP-kube-worker1\"\n#     ansible_group: workers\n#   - hostname: \"DSP-kube-worker2\"\n#     ansible_group: workers\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 22",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 22
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n#   - hostname: \"DSP-kube-worker3\"\n#     ansible_group: workers\nImportant:\n\u2022 High Availability (HA)  is currently supported. You need at least three masters and multiple \nworkers.\n\u2022 Make sure to reserve the virtual IP address under DSP Orchestration.\nThe Drut Containers software is configured for creating clusters. The corresponding widget is registered \nand populated in the DSP Orchestration  > Application  tab.\nPerform the Installing Drut Containers Clusters  (on page 23)  procedure.\nInstalling Drut Containers Clusters\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to install the Drut Containers clusters.\nAfter you configure the Drut Containers, execute the following script to install Drut Containers clusters:\nansible-playbook playbooks/setup_k8s.yaml -e @./vars/dsp_config.yaml -e @./vars/k8s.yaml\nIf custom names are defined in the vars/monitor_services.yaml  file, execute the following command to \napply the changes:\nansible-playbook playbooks/setup_k8s.yaml -e @./vars/dsp_config.yaml -e @./vars/k8s.yaml -e \n @./vars/monitor_services.yaml\nThe Drut Containers clusters are installed on the host machine. After the execution of the above \ncommand, a k8s_hosts  file is generated by default, which serves as an inventory for DFM and VRM \ninstallation or upgrade purposes.\nHere is a sample of what the contents of a k8s_hosts  (on page 23)  file might look like:\n# Ansible managed\n[masters]\ndrut-1-kube-master1  ansible_host=10.51.10.41\ndrut-1-kube-master2  ansible_host=10.51.10.46\ndrut-1-kube-master3  ansible_host=10.51.0.56\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 23",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 23
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n \n[workers]\ndrut-1-kube-worker1  ansible_host=10.51.0.57\ndrut-1-kube-worker2  ansible_host=10.51.0.58\ndrut-1-kube-worker3  ansible_host=10.51.0.3\n \n[all:vars]\nvirtual_ip=10.51.0.21\nk8_ha_enabled=True\npool=K8scluster\n# Ansible managed\nIf you need to regenerate the k8s_hosts  file any time, execute the following command:\nansible-playbook playbooks/generate_inv.yaml  -e @./vars/dsp_config.yaml -e @./vars/k8s.yaml -e type=k8s\nThe packages are configured and the corresponding widgets are registered and populated in the DSP \nOrchestration > Application  tab and a summary with login credentials are displayed on the screen.\nPerform the Installing DFM on Drut Containers Clusters  (on page 24)  procedure.\nInstalling DFM on Drut Containers Clusters\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to install and manage DFM clusters:\n1. Once the k8s_hosts  (on page 23)  file is generated, setup the parameters in the vars/\ndsp_config.yaml (on page 16)  file, and update the vars/fm.yaml  (on page 24)  configuration file \nas illustrated below to install DFM on all hosts listed in the k8s_hosts  (on page 23)  file:\n---\n# To FM\ndrut_fm_url: \"<DRUT_FM_HELM_PACKAGE_HTTP_URL_OR_LOCAL_PATH>\"\n \nfm_db_host_ip: \"<FM_DB_HOST_IP>\" # DFM database Host IP\nfm_mq_host_ip: \"<FM_MQ_HOST_IP>\" # DFM RabbitMQ Host IP\nfm_redis_host_ip: \"<FM_REDIS_HOST_IP>\" # DFM Redis HOST IP\nnfs_host_ip: \"<NFS_HOST_IP>\" # DFM NFS Host IP\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 24",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 24
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nbmc_username: \"<BMC_USER_NAME>\" # Provide the BMC username\nbmc_password: \"<BMC_PASSWORD>\" # Provide the BMC password\n2. Execute the following command to install DFM:\nansible-playbook -i k8s_hosts playbooks/install_fm.yaml -e @./vars/fm.yaml -e \n @./vars/dsp_config.yaml\nIf custom names are defined in the vars/monitor_services.yaml  file, execute the following \ncommand to apply the changes:\nansible-playbook -i k8s_hosts playbooks/install_fm.yaml -e @./vars/fm.yaml -e \n @./vars/dsp_config.yaml -e @./vars/monitor_services.yaml\nDFM is installed on all the clusters listed in the k8s_hosts  file. The corresponding widget is \nregistered, the fabric details are pulled into the orchestration software, and is populated in the DSP \nOrchestration > Application  tab and a summary with login credentials are displayed on the screen.\n3. Optional:  To uninstall DFM from the Drut Containers clusters, execute the following command:\nansible-playbook -i k8s_hosts playbooks/uninstall_fm.yaml -e @./vars/fm.yaml\n4. Optional:  To uninstall DFM from the Drut Containers clusters and cleanup the database, execute \nthe following command:\nansible-playbook -i k8s_hosts playbooks/uninstall_fm.yaml -e @./vars/fm.yaml -e \n @./vars/dsp_config.yaml -e cleardb=true\nThe corresponding widget is de-registered and removed from the DSP Orchestration  > Application \ntab and a summary with login credentials are displayed on the screen.\n5. Optional:  To upgrade the version of DFM on the Drut Containers clusters update the drut_fm_url \nvariable in the fm.yaml  with the package version you are upgrading to, and then execute the \nfollowing command:\nansible-playbook -i k8s_hosts playbooks/upgrade_fm.yaml -e @./vars/fm.yaml\nNote:  You will need a minimum of twice the number of cores that DFM is using.\nIf custom names are defined in the vars/monitor_services.yaml  file, execute the following \ncommand to apply the changes:\nansible-playbook -i k8s_hosts playbooks/upgrade_fm.yaml -e @./vars/fm.yaml -e \n @./vars/monitor_services.yaml\nPerform the Adding New Worker Nodes to a Drut Containers Cluster  (on page 26)  procedure.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 25",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 25
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nAdding New Worker Nodes to a Drut Containers Cluster\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to add worker nodes to the DFM clusters.\nTo add new worker nodes to a Drut Containers cluster, execute the following command to update the \nk8s.yaml  (on page 21)  configuration file with the new worker details:\nansible-playbook playbooks/add_k8s_worker.yaml -e @./vars/dsp_config.yaml -e @./vars/k8s.yaml\nCAUTION:  We recommend that you do not change or remove any existing machine details.\nInstalling DX-VRM\nIntroduction\nDX introduces new features that allow for virtual disaggregation of GPU server resources, which enables \nthe essential technology, known as \"vPODs\" or virtual PODs, enabling dynamic allocation of resources \naccording to software workloads. It facilitates direct data transfer between application memory spaces \nwithin GPUs in the same machine or other machines without utilizing the CPU. This capability includes:\n\u2022 Point-to-point link\n\u2022 Reconfigurability\n\u2022 Distribution across multiple machines\nComponents of DX-VRM\nThe DX-VRM software comprises of the following components:\nvRM (Virtual Resource Manager)\nThis service configures and manages off -the-shelf resources for the DFM. vRM is as a Drut \nContainer docker service running on the DFM server.\nvRUH (Virtual Resource Unit Host):\nvRUH is a machine (VM or bare metal), that hosts the vRUG service for each device. The \nvRUH can be deployed as a VM on the same server as DFM.\nvRUG (Virtual Resource Unit Group)\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 26",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 26
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nEach vRUG is a collection of emulators for each off-the-shelf server, represented by virtual \nDrut components such as vPRU and vFIC. It consists of a series of Drut Container docker \nservices that are installed and executed on the vRUH.\nPrerequisites\nAfter you have finished all the steps in the order presented here, you can move forward with the DX-VRM \ninstallation:\n1. Installing and Configuring DSP Orchestration  (on page 9)\n2. Configuring DSP Orchestration and Network  (on page 11)\n3. Notes on Configuring your External Top-of-Rack (TOR) Switch  (on page 12)\n4. Completing Post-installation Configurations  (on page 13)\n5. Commissioning, Configuring, and Deploying the Servers  (on page 15)\n6. Registering Machines as KVM Hosts  (on page 16)\n7. Configuring the DSP Orchestration Cloud  (on page 16)\n8. Setting-up the Monitoring and Logging Services  (on page 17)\n9. Enabling Monitoring Services for DSP Orchestration  (on page 19)\n10. Configuring Drut Containers  (on page 21)\n11. Installing Drut Containers Clusters  (on page 23)\n12. Installing DFM on Drut Containers Clusters  (on page 24)\n13. Adding New Worker Nodes to a Drut Containers Cluster  (on page 26)\nInstalling DX-VRM Service\nEnsure that you have required environment as described in the Environment Setup  (on page 8)  procedure \nand make sure that you are in the dsp/  folder.\nFollow these steps to install DX-VRM services on the same Drut Containers where DFM is installed.\n1. Once the k8s_hosts  file is generated, update the vars/vrm.yaml  configuration file as illustrated \nbelow to install DX-VRM on all hosts listed in the k8s_hosts  file:\n---# To VRM\nvrm_helm_url: \"<DRUT_VRM_HELM_PACKAGE_HTTP_URL_OR_LOCAL_PATH>\"\nvrm_namespace: \"virtual-resource-manager\"\nREDIS_SERVER: \"<DEFAULT_FM_REDIS_HOST_IP>\" # Should be FM Redis server IP\nvrm_deploy_time: 120\nvrm_retry_deploy_interval: 30\nset_default_zones: false\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 27",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 27
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\ndxlite_zone_name: VRM\ndxlite_rack_name: Rack1\nImportant:\nIf you set the set_default_zones  value to true, the zone and rack names defined in the \ndxlite_zone_name  and dxlite_rack_name  variables will be created automatically in DFM.\nIf you set the set_default_zones  value to false, the zone and rack names specified in the \ndxlite_zone_name  and dxlite_rack_name  variables are ignored. Instead, zone and rack \nnames specified in the vars/dx_lite.yaml  (on page 29)  configuration file (as described \nin the Setting-up DX-VRM Machines  (on page 29)  procedure) will be used for creating \nzones and racks.\n2. Execute the following command to install the DX-VRM on the Drut Containers where the DFM is \ninstalled:\nansible-playbook -i k8s_hosts playbooks/install_vrm.yaml -e @./vars/vrm.yaml -e \n @./vars/dsp_config.yaml\nNote:  The corresponding DX-VRM widget is registered and populated on the DSP \nOrchestration's > Application  tab.\nIf custom names are defined in the vars/monitor_services.yaml  file, execute the following \ncommand to apply the changes:\nansible-playbook -i k8s_hosts playbooks/install_vrm.yaml -e @./vars/vrm.yaml -e \n @./vars/dsp_config.yaml -e @./vars/monitor_services.yaml\nTip:  If you want to uninstall the DX-VRM, execute the following command:\nansible-playbook -i k8s_hosts playbooks/uninstall_vrm.yaml -e @./vars/vrm.yaml\nNote:  The corresponding DX-VRM is de-registered and the widget is removed from the DSP \nOrchestration's > Application  tab.\nDX-VRM service will be installed in the same Drut Containers where DFM is installed and will be \ndiscoverable by DFM and a summary with login credentials are displayed on the screen.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 28",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 28
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nPerform the Setting-up DX-VRM Machines  (on page 29)  procedure.\nSetting-up DX-VRM Machines\nEnsure that you have required environment as described in the Environment Setup  (on page 8)  procedure \nand make sure that you are in the dsp/  folder.\nPerform the following steps to install DX-VRM software:\n1. Update the vars/dsp_config.yaml  (on page 16)  and vars/dx_lite.yaml  configuration file \nparameters as illustrated below:\n# VRM\nvRM_URL: \"https://<IPX.X.X.X:PORT>/api/virtual-resource-manager\"\nvRM_USERNAME: \"admin\"\nvRM_PASSWORD: \"admin\"\nvRM_CONFIG: \"{{vRM_URL}}/config/\"\nvRM_VRUH: \"{{vRM_URL}}/virtual-resource-unit-host/\"\nvRM_VRUG: \"{{vRM_URL}}/virtual-resource-unit-group/\"\nvRM_TASK: \"{{vRM_URL}}/task-response/\"\nFeasibility_Check_url: \"{{vRM_VRUG}}check-feasibility/\"\n \n# VRUH\nvRUH:\n  - \"S47\"\n \n# VRUG\nvRUG:\n  - hostname: \"S51\"\n    resource_block_count: 2\n    zone_fqgn: \"Drut.VRM\"\n    rack_fqgn: \"Drut.VRM.Rack1\"\n    # List of each VM details this list should match with resource_block_count and its \n optional\n    vm_details:\n      - hostname: ABC1\n        cpu_count: 10\n        memory: 102400\n        storage: sda:50\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 29",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 29
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n        interfaces: eth0:space=public-api\n      - hostname: ABC\n        cpu_count: 10\n        memory: 10240\n        storage: sda:50\n        interfaces: eth0:space=public-api\n  - hostname: \"R2S16-bare-105\"\n    resource_block_count: 2\n    zone_fqgn: \"Drut.VRM\"\n    rack_fqgn: \"Drut.VRM.Rack1\"\n  #   vm_details: \n  #     - hostname: ABC\n  #       cpu_count: 100\n  #       memory: 1024000\n  #       storage: sda:5000\n  #       interfaces: eth0:space=public-space\n  #     - hostname: ABCD\n  #       cpu_count: 10\n  #       memory: 10240\n  #       storage: sda:50\n  #       interfaces: eth0:space=public-space\nTip:  The vRM_URL  information can be retrieved from the summary report generated by the \nvars/vrm.yaml  configuration file, as described in the Installing DX-VRM Service  (on page \n27)  procedure.\n2. To install DX-VRM, run the following command:\nansible-playbook playbooks/setup_dx_lite_machines.yaml -e @./vars/dsp_config.yaml -e \n @./vars/dx_lite.yaml\nTip:  If you want to delete DX-VRM machines, execute the following command:\n# Run this script to delete a VRUG\nansible-playbook playbooks/delete_dx_lite_machines.yaml -e \n @./vars/dsp_config.yaml -e @./vars/dx_lite.yaml -e vrug_host=<HOSTNAME>\n \n# Run this script to delete a VRUH HOST\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 30",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 30
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nansible-playbook playbooks/delete_dx_lite_machines.yaml -e \n @./vars/dsp_config.yaml -e @./vars/dx_lite.yaml -e vrugh_host=<HOSTNAME>\nImportant:  You will not be able to delete a VRUG or VRUH resource if the managers are in \ncomposed state.\nThe VRUG and VRUGH machine collections are deployed and are now available to VRM. These machines \nare ready for the deployment of their respective managers. Additionally, the managers will be integrated \ninto the DFM, including the establishment of PCIe peer connections.\nInstalling Drut Workbench\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder. You need to have the following components \nbefore proceeding with installing Drut Workbench\n1. Install Postgres, NFS, and Rabbitmq by executing the following command:\nansible-playbook -i hosts playbooks/setup_all.yaml -e @./vars/dsp-orc.yaml -t \n aiwb_postgres,aiwb_rabbitmq,aiwb_nfs\nRemember:  You can skip this step if you have already executed the setup_all.yaml  script.\n2. Once the k8s_hosts  file is generated, setup up the parameters in the vars/dsp_config.yaml  (on \npage 16)  file, and update the vars/aiwb.yaml  configuration file as illustrated below to install Drut \nWorkbench on all hosts listed in the k8s_hosts  file:\n---\n# To AI Workbench\naiworkbench_url: \"<DRUT_AI_WORKBENCH_HELM_URL>\"\naiwb_postgres_host: \"<DB_HOST_IP>\"\naiwb_rabbitmq_ip: \"<RABBITMQ_HOST_IP>\"\nnfsserver_host: \"<NFS_HOST_IP>\"\nnexusrepo_registry_url: \"<NEXUS_URL>\"\nnexusrepo_rouser: \"<NEXUS_RO_USER>\"\nnexusrepo_ropassword: \"<NEXUS_RO_PASSWORD>\"\nnexusrepo_rwuser: \"<NEXUS_RW_USER>\"\nnexusrepo_rwpassword: \"<NEXUS_RW_PASSWORD>\"\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 31",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 31
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nnexusrepo_reponame: \"<NEXUS_REPO_NAME>\"\nnexusrepo_path: workbench/workloads\nenable_https: true # If set to true, you will be using the https protocol; else you will \n be using the http  protocol\n3. Execute the following command to install the Drut Workbench on the Drut Containers using the \nk8s_hosts  inventory file:\nansible-playbook -i k8s_hosts playbooks/install_aiworkbench.yaml -e @./vars/aiwb.yaml -e \n @./vars/dsp_config.yaml\nNote:  The corresponding Drut Workbench widget is registered and populated on the DSP \nOrchestration's > Application  tab.\nIf custom names are defined in the vars/monitor_services.yaml  file, execute the following \ncommand to apply the changes:\nansible-playbook -i k8s_hosts playbooks/install_aiworkbench.yaml -e \n @./vars/aiwb.yaml -e @./vars/dsp_config.yaml -e @./vars/monitor_services.yaml\nTip:  If you want to uninstall the Drut Workbench, execute the following command:\nansible-playbook -i k8s_hosts playbooks/uninstall_aiworkbench.yaml -e \n @./vars/aiwb.yaml\nIf you want to uninstall the Drut Workbench and clean the database, execute the following \ncommand:\nansible-playbook -i k8s_hosts playbooks/uninstall_aiworkbench.yaml -e \n @./vars/aiwb.yaml -e cleardb=true\nNote:  The corresponding Drut Workbench is de-registered and the widget is removed from \nthe DSP Orchestration > Application  tab.\nConfiguring the VPods for Drut Workbench\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 32",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 32
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n1. After setting up the parameters in the vars/dsp_config.yaml  (on page 16)  file, update the vars/\nvpod.yaml  configuration file as illustrated below to enable OS deployment on the VPod machines:\n---\ndistro: \"ubuntu/jammy\"\nvpod_name: <VPOD_NAME>\naiwb_server: https://<AIWB_SERVICE_IP:PORT>\nnexus_server: <NEXUS_SERVER_IP:PORT>\n2. Execute the following command to configure the VPod machines for Drut Workbench:\nansible-playbook playbooks/setup_vpod_machines.yaml -e @./vars/dsp_config.yaml -e \n @./vars/vpod.yaml\nThe OS is deployed on the machines in the VPod and all the necessary Nvidia drivers, Docker, and Cuda \ntoolkit is installed on the machines, and the VPod is made available for Drut Workbench.\nInstalling Drut Storage\nThe procedures in this section contain information on how to perform the following tasks for installing \nand configuring the Drut Storage software:\n\u2022 Installing Drut Storage Using Scripts  (on page 33)\n\u2022 Installing Drut Storage Manually as an Administrator  (on page 35)\n\u2022 Bootstrapping an Admin Node  (on page 35)\n\u2022 Installing Required Packages on Other Machines  (on page 36)\n\u2022 Adding Nodes to the Cluster  (on page 37)\nInstalling Drut Storage Using Scripts\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to install Drut Storage cluster:\n1. Update the configuration file parameters of dsp_config.yaml  (on page 16)  and vars/ceph.yaml  as \nfollows:\n---\n# CEPH\n# dashboard_password: Dsp@123 # Uncomment this line and insert a password of your choice\nceph_mon_ip_space: <DSP-NETWORK-SPACE-NAME> # Configurable ex: public-api\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 33",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 33
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nceph_cluster_network: <STORAGE_NETWORK_SUB_NET_CIDR> # Subnet designated for cluster \n replication, recovery, and heartbeats (configurable).\n \n# If the create_openstack_config value is set to true, a configuration file and a \n corresponding pool \n# are created within the cluster. Additionally, Drut Storage serves as the backend for \n Drut Compute.\n \n# If the create_openstack_config value is set to false, the configuration file and the \n corresponding \n# pool can be created within the cluster at a later time as needed.\ncreate_openstack_config: false\n \nceph_default_machines_config:\n  cpu_count: 4\n  tags: : \"<TAG_NAME>\" #SET KVM HOST TAG\n  memory: 10240\n  storage: sda:50,sdb:50,sdc:50,sdd:50\n  interfaces: eth0:space=public-api;eth1:space=storage-data\n  pool: \"DSP-Storage\"    # The pool will be created if it does not exist, or you can add a \n custom pool name.\n \n# If you want to specify the ceph machines host names, ansible group names, and labels \n according to \n# your requirements, uncomment this section and provide the necessary details.\n \n# ceph_machines:\n#   - hostname: \"DSP-ceph-control1\"\n#     ansible_group: ceph-admin\n#     labels: \"['_admin', 'mon', 'mgr', 'monitoring']\"\n#   - hostname: \"DSP-ceph-control2\"\n#     ansible_group: ceph-nodes\n#     labels: \"['mon', 'rgw', 'mgr', 'iscsi', 'osd']\"\n#   - hostname: \"DSP-ceph-control3\"\n#     ansible_group: ceph-nodes\n#     labels: \"['mon', 'rgw', 'iscsi', 'osd']\"\n#   - hostname: \"DSP-ceph-control4\"\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 34",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 34
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n#     ansible_group: ceph-nodes\n#     labels: \"['mon', 'rgw', 'iscsi', 'osd']\"\n2. Execute the following command to install Drut Storage:\nansible-playbook playbooks/ceph_setup_cluster.yaml -e @./vars/dsp_config.yaml -e \n @./vars/ceph.yaml\nIf the create_openstack_config  value was set to false  in the vars/ceph.yaml  (on page 33) \nconfiguration file, execute the following commands in the specified order to create a configuration \nfile and a corresponding pool within the cluster:\nansible-playbook playbooks/generate_inv.yaml  -e @./vars/dsp_config.yaml -e \n @./vars/ceph.yaml -e type=dsp_storage\nansible-playbook -i dsp_storage_hosts playbooks/setup_openstack_pools.yml -e \n @./vars/ceph.yaml\nThe corresponding widget is registered and is populated in the DSP Orchestration  > Application \ntab.\n3. To update the ceph_machines  section in the vars/ceph.yaml  configuration file with the new host \ndetails, execute the following command:\nansible-playbook playbooks/ceph_addhost.yaml -e @./vars/dsp_config.yaml -e \n @./vars/ceph.yaml\nInstalling Drut Storage Manually as an Administrator\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to manually install the Drut Storage as an administrator. Using this procedure, \nyou can bootstrap an admin node, install the required packages, and add nodes to the cluster.\n1. Make sure you have at least two interfaces:\na. Drut Storage mon/admin network (PUB network).\nb. Drut Storage cluster network (SClust network).\n2. Deploy the necessary machines from the DSP Orchestration page.\nBootstrapping an Admin Node\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 35",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 35
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nPerform the following steps to bootstrap an admin node.\n1. Execute the following commands in the order they are listed below:\nsudo apt install -y curl\ncurl --silent --remote-name --location \n https://raw.githubusercontent.com/ceph/ceph/quincy/src/cephadm/cephadm\nchmod +x cephadm\nsudo ./cephadm add-repo --release quincy\nsudo ./cephadm install\n2. Execute the following command to bootstrap the admin node:\nsudo cephadm bootstrap --mon-ip <admin_node_ip>  --cluster-network <cluster_network>\nFor example: sudo cephadm bootstrap --mon-ip 10.52.0.2 --cluster-network 10.202.0.0/20\n3. Make sure to make a note of the ceph.pub  key file path or create a backup for future reference.\nInstalling Required Packages on Other Machines\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to install the required packages on other machines that you intend to include \nin the cluster:\n1. Execute the following commands in the order they are listed below to install the required packages \non the cluster machines:\nsed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/g' /etc/ssh/sshd_config \n && service ssh restart\nsudo apt-get update\nsudo apt-get install ca-certificates curl gnupg lsb-release\nsudo mkdir -m 0755  -p /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor \n -o /etc/apt/keyrings/docker.gpg\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \n https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\"  | sudo \n tee /etc/apt/sources.list.d/docker.list > /dev/null\nsudo apt-get update\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 36",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 36
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nsudo apt-get update\nsudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin \n docker-compose-plugin -y\nsudo apt-get install ceph-common\n2. Optional:  Perform this step if you are using a custom or local image for installation. Execute the \nfollowing commands in the order they are listed below:\nscp -r fabricm@10.1.10.107:/etc/docker/certs.d /etc/docker/\nsudo cp /etc/docker/certs.d/drutio\\:443/ca.crt /usr/local/share/ca-certificates/\nsudo update-ca-certificates\nsudo systemctl restart docker\nsudo docker login drutio:443\n3. Copy the public key ceph.pub  to each node by executing the following command:\nssh-copy-id -f -i /etc/ceph/ceph.pub root@<all_nodes>\nAdding Nodes to the Cluster\nPerform the following steps to add nodes to the cluster.\n1. Login to the Drut Storage portal: https://<admin_node_ip>:8443  using your credentials.\n2. From the left-navigation pane, select Dashboard > Cluster  > Hosts.\nThe Hosts List  tab appears in the content pane displaying all available hosts.\n3. Click Add  on the top-left corner of the content pane.\nThe Add Host  dialog appears.\n4. Enter the node details as per the following table and click Add Host.\nTable 2. Add Host Dialog Options\nOption\nDescription\nHostname\nEnter the host name.\nNetwork \naddress\nEnter the host's IP address.\nLabels\nAdd required labels to run relevant services on this host. Add labels such as _admin, \ngrafana, iscsi, mds, mgr, mon, nfs, osd, rbd, rbd-mirror, or rgwv.\nMainte\u00ad\nnance \nMode\nSelect this option to place the host in maintenance mode (stops all Drut Storage \ndaemons on host). By default this option is deselected.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 37",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 37
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nThe node is added to the hosts list.\n5. From the left-navigation pane, select Dashboard >  Cluster >  Services.\nThe Services  page appears in the content pane displaying all available services.\nInstalling Drut Compute Using Kolla Ansible\nEnsure that you have the required environment as described in the Environment Setup  (on page 8) \nprocedure and make sure that you are in the dsp/  folder.\nPerform the following steps to install Drut Compute using Kolla Ansible platform:\n1. Update the /dsp_config.yaml  (on page 16)  and vars/openstack.yaml  configuration file parameters \nas follows:\nImportant:  Ensure that the neutron_external_interface  and network_interface  parameters \nare available under every openstack_machines  section.\n---\n# If setup_external_prometheus is enabled, it will create a job in the external \n Prometheus to scrape data\n# from the OpenStack cluster. You need to configure the following settings to use the \n external Prometheus.\ndsp_monitor_enable: true\nhorizon_password: drut\ndefault_openstack_settings: |\n  enable_neutron_provider_networks: \"yes\"\n  kolla_base_distro: \"ubuntu\"\n  openstack_tag_suffix: \"\"\n  kolla_internal_vip_address: \"<VIP_for_openstack_HA>\"\n  enable_central_logging: \"yes\"\n  enable_heat: \"no\"\n  enable_cinder: \"yes\"\n  enable_cyborg: \"no\"\n  enable_grafana: \"yes\"\n  enable_prometheus: \"yes\"\n  enable_designate: \"no\"\n  designate_backend: \"bind9\"\n  designate_ns_record:\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 38",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 38
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n    - \"ns1.drut.openstack.io\"\n  enable_redis: \"no\"\n  # Ceph config\n  # If you do not want to use Ceph, disable the configuration below.\n  glance_backend_ceph: \"yes\"\n  cinder_backend_ceph: \"yes\"\n  nova_backend_ceph: \"yes\"\n  # Glance\n  ceph_glance_keyring: \"ceph.client.dsp_drut_glance.keyring\"\n  ceph_glance_user: \"dsp_drut_glance\"\n  ceph_glance_pool_name: \"DSP_images\"\n  # Cinder\n  ceph_cinder_keyring: \"ceph.client.dsp_drut_cinder.keyring\"\n  ceph_cinder_user: \"dsp_drut_cinder\"\n  ceph_cinder_pool_name: \"DSP_volumes\"\n  ceph_cinder_backup_keyring: \"ceph.client.dsp_drut_backup.keyring\"\n  ceph_cinder_backup_user: \"dsp_drut_backup\"\n  ceph_cinder_backup_pool_name: \"DSP_backups\"\n  # Nova\n  ceph_nova_keyring: \"ceph.client.dsp_drut_cinder.keyring\"\n  ceph_nova_user: \"dsp_drut_cinder\"\n  ceph_nova_pool_name: \"DSP_vms\"\n  enable_prometheus_openstack_exporter_external: \"yes\"\n  # To Enable SSL/HTTPS\n  kolla_enable_tls_internal: \"yes\"\n  kolla_enable_tls_external: \"yes\"\n  kolla_enable_tls_backend: \"yes\"\n  kolla_copy_ca_into_containers: \"yes\"\n  openstack_cacert: \"/etc/ssl/certs/ca-certificates.crt\"\n  # Custom docker registry settings:\n  docker_registry: \"gcr.io\"\n  docker_namespace: \"sampletesttrialproject/openstack.kolla\"\n \nopenstack_default_machines_config:\n  cpu_count: 16\n  tags: \"DSP-KVM\"\n  memory: 32768\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 39",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 39
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n  storage: sda:50\n  interfaces: eth0:space=public-api;eth1:space=storage-data,mode=unconfigured\n  pool: \"DSP-OS\"\n  neutron_external_interface: eth1\n  network_interface: eth0\n \nopenstack_machines:\n  - hostname: \"DSP-openstack-control1\"\n    ansible_group: control, network, storage\n  - hostname: \"DSP-openstack-control2\"\n    ansible_group: control, network, monitoring\n  - hostname: \"DSP-openstack-control3\"\n    ansible_group: monitoring, storage\n  - hostname: \"DSP-openstack-control4\"\n    ansible_group: compute\n2. Optional:  To use the monitoring and logging services, you need to setup the Setting-up the \nMonitoring and Logging Services  (on page 17)  functionality.\n3. Execute the following script to install Drut Compute using Kolla Ansible:\nsetup_openstack.sh\nThe corresponding widget is registered and is populated in the DSP Orchestration  > Application \ntab.\n4. Execute the following script to add new host details in the vars/openstack.yaml  under the \nopenstack_machines  section:\nadd_openstack_node.sh\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 40",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 40
    },
    "page_content": "Chapter 5. Troubleshooting and Maintenance\nRemoving Packages, Services, and Databases When \nInstallation Errors are Encountered\nExecute the respective code snippets to address any installation errors you may have encountered:\n#!/bin/bash\n \n# To Stop PostgreSQL Service\nsudo systemctl stop postgresql\n \n# To Remove PostgreSQL packages\nsudo apt remove postgresql-cl* -y --purge\nsudo apt remove postgres* --purge -y\n \n# To Remove RabbitMQ packages\nsudo apt-get remove --purge rabbitmq-server\n \n# To Remove Redis packages\nsudo apt remove redis* -y\nsudo apt remove libhiredis0.14:amd64 -y\nsudo apt-get purge --auto-remove redis-server -y\n \n# To Remove DSP Orchestration snap package\nsudo snap remove maas --purge\nBacking-up DSP Orchestration and DFM Databases\nPerform the following steps to backup your DSP Orchestration and DFM databases.\n1. Execute the following command to backup your DSP Orchestration database:\nansible-playbook -i hosts playbooks/backups.yaml -e @./vars/maas_backup.yaml\nThe ssh keys, netplan, and DSP Orchestration database (postgres mass database) are backed-up \nand the vars/maas_backup.yaml  file is updated accordingly.\n2. Execute the following command to backup your FM database:\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 41",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 41
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nansible-playbook playbooks/fm_backup.yaml -e @./vars/fm_backup.yaml --extra-vars \n `fm_db_host=<Add_fm_db_host_IP>`\nImportant:  By default, the login_user  argument is set to drut. If the DFM database host is \nusing a different login_user  value other than the default value, then the command must be \nappended with -e `login_user=<login_user_name>`  value.\nThe DFM database is backed-up and the vars/fm_backup.yaml  file is updated accordingly.\nCreating Drut Storage Users and Pools for Drut Compute\nPerform the following steps to create Drut Storage users and pools for Drut Compute.\nExecute the following commands in the order they are listed below:\nceph osd pool create volumes\nceph osd pool create images\nceph osd pool create backups\nceph osd pool create vms\n \nrbd pool init volumes\nrbd pool init images\nrbd pool init backups\nrbd pool init vms\n \nceph auth get-or-create client.glance mon `profile rbd` osd `profile rbd pool=images` mgr \n `profile rbd pool=images`\nceph auth get-or-create client.cinder mon `profile rbd` osd `profile rbd pool=volumes, profile \n rbd pool=vms, profile rbd-read-only pool=images` mgr `profile rbd pool=volumes, profile rbd \n pool=vms`\nceph auth get-or-create client.cinder-backup mon `profile rbd` osd `profile rbd pool=backups` \n mgr `profile rbd pool=backups`\nCleaning-up the DFM\nExecute the following script to clean-up the DFM database:\nclean_database.sh\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 42",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 42
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nRemoving Drut Storage Host from the Cluster\nPerform the following steps to remove a Drut Storage host from the cluster.\n1. A host can be safely removed from the cluster, after all the daemons are removed from the host. To \nremove all daemons from the host, execute the following command:\nceph orch host drain *<host>*\nThe _no_schedule  label is applied to the host. All OSDs on the host are scheduled for removal.\n2. To monitor the progress of the OSD removal operation, execute the following command:\nceph orch osd rm status\n3. To verify if all the daemons are removed from the host, execute the following command:\nceph orch ps <host>\n4. After all the daemons are removed from the host, execute the following command to remove the \nhost from the cluster:\nceph orch host rm <host>\nRemoving an Existing Drut Compute Node or Host\nPerform the following steps to remove an existing Drut Compute node or host.\n1. For each host being removed, find Neutron routers on that host, move them, and disable the L3 \nagent by executing the following script:\nhost=<remove_node_name>\ntarget_host=<target_node_name>\n \nsource /etc/kolla/admin-openrc.sh\n \nl3_id=$(openstack network agent list --host $host --agent-type  l3 -f value -c ID)\ntarget_l3_id=$(openstack network agent list --host $target_host --agent-type  l3 -f value \n -c ID)\n \necho $l3_id\necho $target_l3_id\n \nopenstack router list --agent $l3_id -f value -c ID | while read  router; do\n  openstack network agent remove router $l3_id $router --l3\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 43",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 43
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\n  openstack network agent add router $target_l3_id $router --l3\ndone\n \nopenstack network agent set $l3_id --disable\n \ndhcp_id=$(openstack network agent list --host $host --agent-type  dhcp -f value -c ID)\ntarget_dhcp_id=$(openstack network agent list --host $target_host --agent-type  dhcp -f \n value -c ID)\n \necho $dhcp_id\necho $target_dhcp_id\n \nopenstack network list --agent $dhcp_id -f value -c ID | while read  network; do\n  openstack network agent remove network $dhcp_id $network --dhcp\n  openstack network agent add network $target_dhcp_id $network --dhcp\ndone\n2. Remove existing compute nodes by performing the following steps:\nRemember:  Before removing any compute nodes from the system, it is recommended that \nyou either migrate or destroy any instances that they are hosting.\na. For each host, disable the compute service to ensure that no new instances are scheduled \nto it by executing the following command:\nopenstack compute service set <host> nova-compute --disable\nb. To migrate live instances to another host, execute the following command:\nopenstack server list --all-projects --host <host>  -f value -c ID | while read \n server; do\n  openstack server migrate --live-migration $server\ndone\nVerify that the migrations were successful.\n3. Stop all services running on the hosts being removed by executing the following command:\nkolla-ansible -i openstack_hosts stop --yes-i-really-really-mean-it --limit <node_name>\n4. Remove the hosts from the Ansible inventory (openstack_hosts  and vars/openstack.yaml).\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 44",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 44
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nNote:  All groups are listed as a comma-separated list in the groups_namescolumn, before \nremoving the host from the openstack_hosts  file.\n5. Execute the following command to reconfigure the remaining controllers to update the \nmembership of clusters such as MariaDB and RabbitMQ.\nkolla-ansible -i openstack_hosts reconfigure --limit <groups_names>\nTip:  It is recommended to use a suitable limit, such as --limit control.\n6. Execute the following script on each host to clean-up the services.\nhost=<remove_node_name>\nopenstack network agent list --host $host -f value -c ID | while read  id; do\n  openstack network agent delete $id\ndone\n \nopenstack compute service list --os-compute-api-version 2.53  --host $host -f value -c ID \n | while read id; do\n  openstack compute service delete --os-compute-api-version 2.53  $id\ndone\nCreating an External Flat Network on Drut Compute\nPerform the following steps to create an external flat network on Drut Compute.\n1. Login to the Drut Compute portal as admin user.\n2. Select Admin > Network >  Networks  from the left-navigation menu.\nThe Drut Compute portal's Networks  content-pane is displayed listing all available networks.\n3. In the Networks  content-pane, click the Create Network  button.\nThe Create Network  popup appears with the following tabs:\n\u25e6Network\n\u25e6Subnet\n\u25e6Subnet Details\nIn the next steps, you will have to enter and select the minimum required fields for creating a flat \nexternal network.\n4. In the Create Network  popup, under the Network  tab, specify the values of the fields as described \nin the following table, and click Next  to proceed with the next steps:\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 45",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 45
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nTable 3. Networks > Create Network Popup  > Network Tab Options\nField\nDescription\nName\nSpecify the name of the external network.\nProject*\nSelect Admin  option.\nProvider Network Type* Select Flat  option.\nPhysical Network*\nEnter physnet1.\nShared\nSelect this option.\nExternal Network\nSelect this option.\n5. In the Create Network  popup, under the Subnet  tab, specify the values of the fields as described in \nthe following table, and click Next  to proceed with the next steps:\nTable 4. Networks >  Create Network Popup  >  Subnet Tab Options\nField\nDescription\nSubnet \nName\nEnter the subnet name.\nNetwork \nAddress\n10.83.0.0/24\nNote:  The network address entered here must match with the neutron_exter-\nnal_interface  address specified in the vars/openstack.yaml  file.\n6. In the Create Network  popup, under the Subnet  tab, specify the values of the fields as described in \nthe following table, and click Create  to complete the network creation process:\nTable 5. Networks >  Create Network Popup  >  Subnet Details Tab  Options\nField\nDescription\nEnable DHCP\nDeselect this option.\nAllocation \nPools\nEnter 10.83.0.150,10.83.0.250  based on the reservation in the DSP Orchestra\u00ad\ntion for this network.\nDNS Name \nServers\nEnter 8.8.8.8  or you can specify any of your corporate DNS servers.\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 46",
    "type": "Document"
  },
  {
    "id": null,
    "metadata": {
      "producer": "Apache FOP Version 26.1-SNAPSHOT",
      "creator": "oXygen PDF Chemistry Version 26.1 Build 2024-04-19T00:03:16Z",
      "creationdate": "2025-03-04T15:26:52+05:30",
      "source": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "file_path": "/home/drut/chatbot/data/DSP_Installation_Guide.pdf",
      "total_pages": 47,
      "format": "PDF 1.5",
      "title": "DSP Installation Guide, Version 3.2.0",
      "author": "Raj. Revannuru",
      "subject": "",
      "keywords": "",
      "moddate": "",
      "trapped": "",
      "modDate": "",
      "creationDate": "D:20250304152652+05'30'",
      "page": 46
    },
    "page_content": "DSP Installation Guide, Version 3.2.0\nInstalling and Managing DFM Manually\nEnsure that you have required environment as described in the Environment Setup  (on page 8)  procedure \nand make sure that you are in the dsp/  folder.\nPerform the following steps to install and manage DFM manually:\n1. To install DFM with NFS  server enabled, execute the following command:\nhelm install --name-template=fmrelease --namespace=fabric-manager --set \n global.fm_primary_db_host=<database machine IP>,global.fm_mq_host=<rabbitmq \n IP>,global.fm_redis_host=<redis machine IP>,logs.nfs.host=<nfs machine \n IP>,logs.nfs.path=/fabricm/logs,global.northbound_security.enabled=<true | \n false>,fm_optical_health_monitor_interval=60 <fabric-manager-x.x.x-xx.tgz>\n2. After the installation is complete, execute the following commands in the order they are listed \nbelow to register the element service (internal service) with the DFM database:\nkubectl exec -it fmrelease-fm-resource-manager-xxxx -n fabric-manager -- bash\ncurl -H \"Content-Type: application/json\"   -H \"Authorization: Basic YWRtaW46YWRtaW4=\" \n -d'{\"RemoteRedfishServiceUri\" :\"https://\nfmrelease-fabric-element-service:19090/redfish/v1\"}'   -X POST \n https://localhost:9811/redfish/v1/Managers\n3. To install DFM without NFS  server enabled, execute the following command:\nhelm install --namespace=fabric-manager fmrelease fabric-manager-<FM_RELEASE_VERSION>.tgz \n --set\nglobal.fabricm_host=<FM_HOST>,logs.nfs.enabled=false,fm_optical_health_monitor_interval=60\n,global.northbound_security.enabled=true\n4. To view the installed version of DFM, execute the following command:\nhelm list -n fabric-manager\n5. To upgrade to a new DFM version, execute the following command:\nhelm upgrade --debug fmrelease --namespace=fabric-manager --set \n global.fabricm_host=<FM_HOST>,logs.nfs.enabled=false,global.northbound_security.enabled=t\nrue /tmp/fabric-manager-upgrade.tgz --force\n6. To uninstall DFM, execute the following command:\nhelm uninstall fmrelease --namespace=fabric-manager\n\u00a92025 Drut Technologies Inc., All Rights Reserved. Page: 47",
    "type": "Document"
  }
]